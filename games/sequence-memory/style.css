:root{
  --bg:#f7fbff;
  --primary:#0e7afe;
  --secondary:#5aa5ff;
  --accent:#ffb703;
  --success:#2ecc71;
  --error:#e74c3c
}
*{box-sizing:border-box;margin:0;padding:0;font-family:'Cairo',sans-serif;user-select:none;-webkit-tap-highlight-color:transparent}
body{background:var(--bg);color:#333;min-height:100vh;display:flex;justify-content:center}
.app-container{width:100%;max-width:640px;padding:20px;min-height:100vh;display:flex;flex-direction:column}
.screen{display:none;flex-direction:column;align-items:center;width:100%}
.screen.active{display:flex}
.game-header{text-align:center;margin:40px 0}
.game-header h1{font-size:2.2rem;color:var(--primary);margin-bottom:8px}
.settings-box{background:#fff;padding:24px;border-radius:20px;box-shadow:0 10px 25px rgba(0,0,0,.08);width:100%}
.setting-group{margin-bottom:22px}
.setting-group label{display:block;margin-bottom:8px;font-weight:bold;color:#555}
.options-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(90px,1fr));gap:10px}
.opt-btn{background:#f1f6ff;border:2px solid transparent;padding:10px;border-radius:12px;cursor:pointer;font-size:1rem;font-weight:bold;transition:.2s;color:#333}
.opt-btn.selected{background:#e8f1ff;border-color:var(--primary);color:var(--primary)}
.main-action-btn{width:100%;padding:14px;background:linear-gradient(45deg,var(--primary),var(--secondary));color:#fff;border:none;border-radius:14px;font-size:1.1rem;font-weight:bold;cursor:pointer;box-shadow:0 5px 15px rgba(14,122,254,.3)}
.level-info{width:100%;display:flex;justify-content:space-between;align-items:center;padding:10px 16px;background:#fff;border-radius:50px;margin-bottom:18px;box-shadow:0 4px 10px rgba(0,0,0,.05);font-weight:bold}
.settings-btn{background:#f9fafe;border:2px solid var(--primary);color:var(--primary);border-radius:25px;padding:6px 12px;font-weight:bold;cursor:pointer}
.game-content{width:100%;display:flex;flex-direction:column;align-items:center}
.display-area{width:100%;background:#fff;border-radius:20px;padding:20px;box-shadow:0 8px 20px rgba(0,0,0,.06);margin-bottom:15px;text-align:center}
.display-item{font-size:3rem;height:70px;display:flex;align-items:center;justify-content:center}
.progress-bar{height:6px;background:#eee;border-radius:4px;overflow:hidden;margin-top:10px}
#progress-fill{height:100%;width:0;background:var(--accent);transition:width .3s linear}
.phase-text{color:var(--primary);margin-top:12px;font-weight:bold;min-height:28px}
.choices-grid{display:grid;grid-template-columns:repeat(6,1fr);gap:10px;width:100%;margin:15px 0}
.choice-btn{background:#fff;border:2px solid #eee;border-radius:12px;height:52px;display:flex;align-items:center;justify-content:center;font-size:1.3rem;cursor:pointer;transition:.15s}
.choice-btn:hover{transform:translateY(-3px);border-color:var(--primary)}
.input-area{display:flex;gap:10px;align-items:center;width:100%}
.input-sequence{flex:1;display:flex;gap:8px;flex-wrap:wrap;background:#fff;border-radius:12px;padding:10px;min-height:52px;align-items:center;box-shadow:0 4px 10px rgba(0,0,0,.05)}
.input-token{background:#eef6ff;color:#0e5bd8;border:1px solid #cfe2ff;border-radius:10px;padding:6px 10px;font-weight:bold}
.primary-btn{background:var(--primary);color:#fff;border:none;border-radius:12px;padding:10px 14px;font-weight:bold;cursor:pointer}
.secondary-btn{background:#f3f6fb;color:#333;border:1px solid #e1e8f5;border-radius:12px;padding:10px 14px;font-weight:bold;cursor:pointer}
.result-content{text-align:center;background:#fff;padding:36px;border-radius:26px;box-shadow:0 15px 35px rgba(0,0,0,.08);width:90%;max-width:420px}
#result-emoji{font-size:4.2rem;margin-bottom:12px}
@media(max-width:420px){.choices-grid{grid-template-columns:repeat(4,1fr)}}
